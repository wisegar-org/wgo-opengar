(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"07f6":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Collaborators")},l=[],s=o("60a3"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-none",staticStyle:{width:"100%"}},[o("CollaboratorList",{attrs:{collaborators:t.collaboratorFiltered,columns:t.columns,filterStr:t.filterStr,loading:t.loading,headerButtons:t.headerButtons,editCollaborator:t.openEditor}},[o("template",{slot:"addButton"},[t.userLogged&&t.userLogged.isAdmin?o("q-btn",{staticClass:"q-ml-xs",attrs:{unelevated:"",color:"primary",icon:"add","no-caps":"",size:"sm",label:t.translationContent.WGO_FINANCE_COLLABORATOR_CREATE_CONTACT_BTN},on:{click:function(){return t.openEditor(null)}}}):t._e()],1),o("template",{slot:"filterLabel"},[o("ExpandableListFilterLabel",{attrs:{filterStr:t.filterStr,cleanFilter:function(){return t.applyFilter(t.emptyFilter)},openFilter:function(){return t.showFilter=!0}}})],1)],2),o("EditAccountingCollaboratorDialog",{attrs:{close:function(){return t.showEditor=!1},showModal:t.showEditor,collaborator:t.collaboratorSelected}}),o("CollaboratorsFilterDialog",{attrs:{showModal:t.showFilter,close:function(){return t.showFilter=!1},filters:t.filters,title:t.translationContent.WGO_FINANCE_COLLABORATOR_FILTER_TITLE||"Filter",icon:"filter_alt",applyFilter:t.applyFilter}})],1)},r=[],n=o("4bb5"),c=o("127a"),p=o("c1df"),d=o.n(p),u=o("40747");const b={value:u["f"],label:"Client"},h={value:u["h"],label:"Provider"},m={value:u["g"],label:"Collaborator"},O={required:!0,label:"Name",tooltip:"Name",prop:"name",value:t=>`${t.name?t.name:t.login}`},C={visible:!1,label:"Url",tooltip:"Url",prop:"url",value:t=>`${t.isCollaborator?t.url:""}`},f={visible:!0,label:"Role",tooltip:"Role",prop:"type",value:t=>`${t.type?t.typeTranslation:"-"}`},_={visible:!0,label:"Email",tooltip:"Email",prop:"email",value:t=>t.email?`${t.email}`:"-"},y=[O,f,_,C],g={name:"weekNumberStats",required:!0,label:"Week number",align:"left",field:"week_number",sortable:!0,classes:"ellipsis",style:"max-width: 100px"},v={name:"weekStats",required:!0,label:"Week Date",align:"left",field:t=>d()(t.weekly.toString()).format("YYYY/MM/DD"),sortable:!0,classes:"ellipsis",style:"max-width: 100px"},L={name:"countTaskStats",required:!0,label:"Number Task",align:"left",field:"count_task",sortable:!0,classes:"ellipsis",style:"max-width: 100px"},A={name:"hoursTaskStats",required:!0,label:"Hours",align:"left",field:"hours",sortable:!0,classes:"ellipsis",style:"max-width: 100px"},P={name:"averageTaskStats",required:!0,label:"Average",align:"left",field:"average",sortable:!0,classes:"ellipsis",style:"max-width: 100px"},R=[g,v,L,A,P],E=t=>{b.label=b.value in t?t[b.value]:b.value,h.label=h.value in t?t[h.value]:h.value,m.label=m.value in t?t[m.value]:m.value,O.label=t[u["c"]],O.tooltip=t[u["c"]],f.label=t[u["d"]],f.tooltip=t[u["d"]],_.label=t[u["b"]],_.tooltip=t[u["b"]],C.label=t[u["e"]],C.tooltip=t[u["e"]],g.label=t.WGO_FINANCE_COLLABORATOR_COLUMN_WEEK_NUMBER,v.label=t.WGO_FINANCE_COLLABORATOR_COLUMN_WEEK,L.label=t.WGO_FINANCE_COLLABORATOR_COLUMN_COUNT_TASK,A.label=t.WGO_FINANCE_COLLABORATOR_COLUMN_HOURS_TASK,P.label=t.WGO_FINANCE_COLLABORATOR_COLUMN_AVERAGE_TASK};var T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Dialog",{attrs:{showModal:t.showModal,loading:t.showLoading,title:t.getTitle(),close:function(){return t.onClose()},icon:"contacts",styleDialog:"width: 400px; max-width: 80vw"}},[o("template",{slot:"content"},[o("q-input",{staticClass:"q-mx-md q-my-lg",attrs:{square:"",outlined:"",autofocus:!0,label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_NAME,dense:""},model:{value:t.editProps.name,callback:function(e){t.$set(t.editProps,"name",e)},expression:"editProps.name"}}),!t.collaborator||t.isCollaborator()?o("q-input",{staticClass:"q-mx-md q-my-lg",attrs:{square:"",outlined:"",autogrow:"",autofocus:!0,label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_DESCRIPTION,dense:""},model:{value:t.editProps.description,callback:function(e){t.$set(t.editProps,"description",e)},expression:"editProps.description"}}):t._e(),o("q-input",{staticClass:"q-mx-md q-my-lg",attrs:{square:"",outlined:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_EMAIL,dense:""},model:{value:t.editProps.email,callback:function(e){t.$set(t.editProps,"email",e)},expression:"editProps.email"}}),o("q-input",{staticClass:"q-mx-md q-my-lg",attrs:{square:"",outlined:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_ADDRESS,dense:""},model:{value:t.editProps.address,callback:function(e){t.$set(t.editProps,"address",e)},expression:"editProps.address"}}),o("q-input",{staticClass:"q-mx-md q-my-lg",attrs:{square:"",outlined:"",type:"number",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_CAP,dense:""},model:{value:t.editProps.cap,callback:function(e){t.$set(t.editProps,"cap",e)},expression:"editProps.cap"}}),o("q-input",{staticClass:"q-mx-md q-my-lg",attrs:{square:"",outlined:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_PLACE,dense:""},model:{value:t.editProps.place,callback:function(e){t.$set(t.editProps,"place",e)},expression:"editProps.place"}}),o("q-select",{staticClass:"q-mx-md q-my-lg",attrs:{square:"",outlined:"",dense:"",multiple:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_ROLE,options:t.optionsRoles,"option-value":"value","option-label":"label",clearable:""},model:{value:t.selectedRoles,callback:function(e){t.selectedRoles=e},expression:"selectedRoles"}}),o("q-input",{staticClass:"q-mx-md q-my-lg",attrs:{square:"",outlined:"",mask:"#### - #### - #### - ####",dense:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_CARD_NUMBER,readonly:!t.loggedUser||!t.loggedUser.isAdmin},model:{value:t.editProps.card_number,callback:function(e){t.$set(t.editProps,"card_number",e)},expression:"editProps.card_number"}}),t.isCollaborator()?o("q-input",{staticClass:"q-mx-md q-my-lg",attrs:{square:"",outlined:"",type:"number",dense:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_PAY_BY_HOURS,readonly:!t.loggedUser||!t.loggedUser.isAdmin},model:{value:t.editProps.pay_by_hours,callback:function(e){t.$set(t.editProps,"pay_by_hours",e)},expression:"editProps.pay_by_hours"}}):t._e()],1),o("template",{slot:"buttons"},[o("q-btn",{staticClass:"col-12 col-sm-auto",attrs:{unelevated:"",color:"primary",align:"center",disable:!t.isValid(),label:t.translationContent.WGO_APPLY_BTN},on:{click:function(){return t.updateProps()}}})],1)],2)},N=[],x=o("1d08"),F=o("b5ce"),w=o("ea1a"),q=o("7641"),S=function(t,e,o,a){var l,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,a);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(i=(s<3?l(i):s>3?l(e,o,i):l(e,o))||i);return s>3&&i&&Object.defineProperty(e,o,i),i},j=function(t,e,o,a){function l(t){return t instanceof o?t:new o((function(e){e(t)}))}return new(o||(o=Promise))((function(o,s){function i(t){try{n(a.next(t))}catch(e){s(e)}}function r(t){try{n(a["throw"](t))}catch(e){s(e)}}function n(t){t.done?o(t.value):l(t.value).then(i,r)}n((a=a.apply(t,e||[])).next())}))};let B=class extends s["Vue"]{constructor(){super(),this.showLoading=!1,this.optionsRoles=[m,b,h],this.selectedRoles=[],this.selectedRoles=[],this.editProps={name:"",login:"",card_number:"",email:"",address:"",pay_by_hours:"",cap:"",place:"",description:"",type:""},this.updatePropsEditor()}updatePropsEditor(){this.editProps=this.collaborator?{name:`${this.collaborator.name||this.collaborator.login}`,login:`${this.collaborator.login}`,card_number:`${this.collaborator.card_number||""}`,pay_by_hours:`${this.collaborator.pay_by_hours||""}`,email:`${this.collaborator.email||""}`,address:`${this.collaborator.address||""}`,cap:`${this.collaborator.cap||""}`,place:`${this.collaborator.place||""}`,description:`${this.collaborator.bio||""}`,type:`${this.collaborator.type}`}:{name:"",login:"",card_number:"",email:"",address:"",pay_by_hours:"",cap:"",place:"",description:"",type:""},this.selectedRoles=this.editProps.type.split(",").filter((t=>this.isValidRole(t))).map((t=>({value:t,label:t in this.translationContent?this.translationContent[t]:t})))}updateTypeRoles(){this.editProps.type=(this.selectedRoles||[]).map((t=>"string"===typeof t?t:t.value)).join(",")}isValidRole(t){return t===u["h"]||t===u["g"]||t===u["f"]}isValid(){return!!this.editProps.name&&!!this.editProps.type&&(!!this.loggedUser&&this.loggedUser.isAdmin||!!this.editProps.card_number&&!!this.editProps.pay_by_hours&&!!this.editProps.email&&!!this.editProps.cap&&!!this.editProps.place&&!!this.editProps.address)}isCollaborator(){return-1!==this.editProps.type.indexOf(u["g"])}updateRolesLabel(){m.label=this.translationContent.WGO_FINANCE_COLLABORATOR_ROLE_COLLABORATOR||"Collaborator",b.label=this.translationContent.WGO_FINANCE_COLLABORATOR_ROLE_CLIENT||"Client",h.label=this.translationContent.WGO_FINANCE_COLLABORATOR_ROLE_PROVIDER||"Provider",this.selectedRoles=this.editProps.type.split(",").map((t=>({value:t,label:this.translationContent[t]||t})))}updateProps(){return j(this,void 0,void 0,(function*(){this.showLoading=!0;const t=this.collaborator?yield this.updateProperties({id:this.collaborator.id,name:this.editProps.name,card_number:this.editProps.card_number,pay_by_hours:parseFloat(this.editProps.pay_by_hours),email:this.editProps.email,bio:this.editProps.description,address:this.editProps.address,cap:this.editProps.cap,place:this.editProps.place,type:this.editProps.type}):yield this.createClientProvider({name:this.editProps.name,login:this.editProps.name,bio:this.editProps.description,pay_by_hours:parseFloat(this.editProps.pay_by_hours),email:this.editProps.email,card_number:this.editProps.card_number,address:this.editProps.address,cap:this.editProps.cap,place:this.editProps.place,type:this.editProps.type});t&&(this.notify({message:`Collaborator ${this.collaborator?"updated":"created"} successfully`,type:"positive"}),this.collaborator&&this.loggedUser.userName===this.collaborator.login&&(yield this.loadLoggedUser()),this.close()),this.showLoading=!1}))}onClose(){this.close&&this.close()}getTitle(){return this.collaborator?this.translationContent.WGO_FINANCE_COLLABORATOR_EDIT_TITLE||"Edit contact":this.translationContent.WGO_FINANCE_COLLABORATOR_CREATE_TITLE||"Create contact"}};S([Object(s["Prop"])({default:!1})],B.prototype,"showModal",void 0),S([Object(s["Prop"])()],B.prototype,"close",void 0),S([Object(s["Prop"])()],B.prototype,"collaborator",void 0),S([Object(n["b"])(q["b"].getTranslations,{namespace:q["e"]})],B.prototype,"translationContent",void 0),S([Object(n["a"])(c["b"].updateCollAccountingProps,{namespace:c["d"]})],B.prototype,"updateProperties",void 0),S([Object(n["a"])(c["b"].addClientProvider,{namespace:c["d"]})],B.prototype,"createClientProvider",void 0),S([Object(n["a"])(F["a"].USER_LOGGED_ACTION,{namespace:F["a"].USER_NAMESPACE})],B.prototype,"loadLoggedUser",void 0),S([Object(n["b"])(F["a"].USER_LOGGED_GETTER,{namespace:F["a"].USER_NAMESPACE})],B.prototype,"loggedUser",void 0),S([Object(n["a"])(w["a"].notify,{namespace:w["c"]})],B.prototype,"notify",void 0),S([Object(s["Watch"])("collaborator")],B.prototype,"updatePropsEditor",null),S([Object(s["Watch"])("selectedRoles")],B.prototype,"updateTypeRoles",null),S([Object(s["Watch"])("translationContent")],B.prototype,"updateRolesLabel",null),B=S([Object(s["Component"])({components:{Dialog:x["a"]}})],B);var I=B,D=I,$=o("2877"),W=o("27f9"),k=o("ddd8"),G=o("9c40"),U=o("eebe"),M=o.n(U),Q=Object($["a"])(D,T,N,!1,null,null,null),V=Q.exports;M()(Q,"components",{QInput:W["a"],QSelect:k["a"],QBtn:G["a"]});var Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Dialog",{attrs:{showModal:t.showModal,loading:t.showLoading,title:t.title,close:function(){return t.onClose()},styleDialog:"width: 800px; max-width: 80vw"}},[o("template",{slot:"content"},[o("StatsCollaborator",{attrs:{close:t.close,collaborator:t.collaborator,showLoading:function(e){return t.showLoading=e}}})],1)],2)},H=[],K=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"}},[o("q-table",{attrs:{bordered:"",flat:"",title:"",data:t.filterStats,columns:t.columns,"row-key":"name"},scopedSlots:t._u([{key:"top",fn:function(){return[o("q-toolbar",[o("q-toolbar-title",[t._v(t._s(t.collaborator.name))]),o("q-separator"),o("q-input",{attrs:{outlined:"",readonly:"",dense:"",flat:"",value:t.average,type:"number",prefix:"Average: "}})],1),o("div",{staticClass:"row q-col-gutter-none justify-end",staticStyle:{width:"100%"}},[o("div",{staticClass:"col-12 col-md-4"},[o("q-input",{attrs:{clearable:"",dense:"",outlined:"",mask:"date",label:"Start date"},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[o("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-date",{model:{value:t.minDateFilter,callback:function(e){t.minDateFilter=e},expression:"minDateFilter"}},[o("div",{staticClass:"row items-center justify-end"},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{unelevated:"",label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.minDateFilter,callback:function(e){t.minDateFilter=e},expression:"minDateFilter"}})],1),o("div",{staticClass:"col-12 col-md-4"},[o("q-input",{attrs:{clearable:"",dense:"",outlined:"",mask:"date",label:"End date"},scopedSlots:t._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[o("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-date",{model:{value:t.maxDateFilter,callback:function(e){t.maxDateFilter=e},expression:"maxDateFilter"}},[o("div",{staticClass:"row items-center justify-end"},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{unelevated:"",label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.maxDateFilter,callback:function(e){t.maxDateFilter=e},expression:"maxDateFilter"}})],1)])]},proxy:!0},{key:"loading",fn:function(){return[o("Loader",{attrs:{loading:!0}})]},proxy:!0}])})],1)},J=[],z=function(t,e,o,a){var l,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,a);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(i=(s<3?l(i):s>3?l(e,o,i):l(e,o))||i);return s>3&&i&&Object.defineProperty(e,o,i),i},X=function(t,e,o,a){function l(t){return t instanceof o?t:new o((function(e){e(t)}))}return new(o||(o=Promise))((function(o,s){function i(t){try{n(a.next(t))}catch(e){s(e)}}function r(t){try{n(a["throw"](t))}catch(e){s(e)}}function n(t){t.done?o(t.value):l(t.value).then(i,r)}n((a=a.apply(t,e||[])).next())}))};let Z=class extends s["Vue"]{constructor(){super(...arguments),this.columns=R,this.filterStats=[],this.stats=[],this.average=0,this.minDateFilter="",this.maxDateFilter=""}getAverage(){const t=this.filterStats.length>0?this.filterStats.map((t=>t.average)).reduce(((t,e)=>t+e),0)/this.filterStats.length:0;return Math.round(10*t)/10}updateStats(){return X(this,void 0,void 0,(function*(){0===this.stats.length&&(this.stats=yield this.loadStats(this.collaborator.id)),this.filterStats=this.getFilterStats(),this.average=this.getAverage()}))}getFilterStats(){const t=this.minDateFilter?new Date(this.minDateFilter):void 0,e=this.maxDateFilter?new Date(this.maxDateFilter):void 0;return t&&(t.setHours(0,0,0,0),t.setDate(t.getDate()-t.getDay())),e&&(e.setHours(0,0,0,0),e.setDate(e.getDate()-e.getDay()+7)),this.stats.filter((o=>{if(!t&&!e)return!0;const a=new Date(o.weekly);return!(t&&a.getTime()-t.getTime()<0)&&!(e&&e.getTime()-a.getTime()<0)}))}mounted(){return X(this,void 0,void 0,(function*(){this.showLoading(!0),yield this.updateStats(),this.showLoading(!1)}))}};z([Object(n["a"])(c["b"].loadCollaboratorStats,{namespace:c["d"]})],Z.prototype,"loadStats",void 0),z([Object(s["Prop"])()],Z.prototype,"collaborator",void 0),z([Object(s["Prop"])()],Z.prototype,"showLoading",void 0),z([Object(s["Watch"])("collaborator"),Object(s["Watch"])("minDateFilter"),Object(s["Watch"])("maxDateFilter")],Z.prototype,"updateStats",null),Z=z([Object(s["Component"])({})],Z);var tt=Z,et=tt,ot=(o("d733"),o("eaac")),at=o("65c6"),lt=o("6ac5"),st=o("eb85"),it=o("0016"),rt=o("7cbe"),nt=o("52ee"),ct=o("7f67"),pt=Object($["a"])(et,K,J,!1,null,"db5f3cfe",null),dt=pt.exports;M()(pt,"components",{QTable:ot["a"],QToolbar:at["a"],QToolbarTitle:lt["a"],QSeparator:st["a"],QInput:W["a"],QIcon:it["a"],QPopupProxy:rt["a"],QDate:nt["a"],QBtn:G["a"]}),M()(pt,"directives",{ClosePopup:ct["a"]});var ut=function(t,e,o,a){var l,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,a);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(i=(s<3?l(i):s>3?l(e,o,i):l(e,o))||i);return s>3&&i&&Object.defineProperty(e,o,i),i};let bt=class extends s["Vue"]{constructor(){super(...arguments),this.showLoading=!1}onClose(){this.close&&this.close()}};ut([Object(s["Prop"])({default:!1})],bt.prototype,"showModal",void 0),ut([Object(s["Prop"])()],bt.prototype,"close",void 0),ut([Object(s["Prop"])()],bt.prototype,"collaborator",void 0),ut([Object(s["Prop"])()],bt.prototype,"title",void 0),bt=ut([Object(s["Component"])({components:{StatsCollaborator:dt,Dialog:x["a"]}})],bt);var ht=bt,mt=ht,Ot=Object($["a"])(mt,Y,H,!1,null,null,null),Ct=Ot.exports,ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ExpandableList",{attrs:{items:t.pageCollaborators,icon:"contacts",title:t.translationContent.WGO_FINANCE_COLLABORATOR_TITLE||"Contacts",loading:t.loading||t.innerLoading,propsEditor:t.columns,maxLabels:3,options:t.options,filterStr:t.filterStr},scopedSlots:t._u([{key:"details",fn:function(t){var e=t.item;return[o("ViewAccountingCollaborator",{attrs:{collaborator:e}})]}}])},[o("template",{slot:"addButton"},[t._t("addButton")],2),o("template",{slot:"filterLabel"},[t._t("filterLabel")],2),o("template",{slot:"pagination"},[o("div",{staticClass:"q-pa-none flex flex-center"},[o("div",[o("q-select",{staticClass:"q-ml-lg q-mr-lg",attrs:{color:"primary",options:t.itemByPageOptions,borderless:""},model:{value:t.itemsByPage,callback:function(e){t.itemsByPage=e},expression:"itemsByPage"}},[o("template",{slot:"after"},[o("div",{staticClass:"q-field"},[t._v(t._s(t.itemsCount))])])],2)],1),o("div",[t.pageCollaborators.length?o("q-pagination",{attrs:{max:t.maxPage,input:"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)])])],2)},_t=[],yt=o("6c35"),gt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row q-pa-sm"},[o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{staticClass:"q-pa-sm",attrs:{square:"",outlined:"",autofocus:!0,label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_NAME,dense:"",readonly:""},model:{value:t.editProps.name,callback:function(e){t.$set(t.editProps,"name",e)},expression:"editProps.name"}})],1),t.collaborator&&t.collaborator.isCollaborator?t._e():o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{staticClass:"q-pa-sm",attrs:{square:"",outlined:"",autogrow:"",autofocus:!0,label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_DESCRIPTION,dense:"",readonly:""},model:{value:t.editProps.description,callback:function(e){t.$set(t.editProps,"description",e)},expression:"editProps.description"}})],1),o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{staticClass:"q-pa-sm",attrs:{square:"",outlined:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_EMAIL,dense:"",readonly:""},model:{value:t.editProps.email,callback:function(e){t.$set(t.editProps,"email",e)},expression:"editProps.email"}})],1),o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{staticClass:"q-pa-sm",attrs:{square:"",outlined:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_ADDRESS,dense:"",readonly:""},model:{value:t.editProps.address,callback:function(e){t.$set(t.editProps,"address",e)},expression:"editProps.address"}})],1),o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{staticClass:"q-pa-sm",attrs:{square:"",outlined:"",type:"number",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_CAP,dense:"",readonly:""},model:{value:t.editProps.cap,callback:function(e){t.$set(t.editProps,"cap",e)},expression:"editProps.cap"}})],1),o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{staticClass:"q-pa-sm",attrs:{square:"",outlined:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_PLACE,dense:"",readonly:""},model:{value:t.editProps.place,callback:function(e){t.$set(t.editProps,"place",e)},expression:"editProps.place"}})],1),o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{staticClass:"q-pa-sm",attrs:{square:"",outlined:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_ROLE,dense:"",readonly:""},model:{value:t.editProps.typeTranslation,callback:function(e){t.$set(t.editProps,"typeTranslation",e)},expression:"editProps.typeTranslation"}})],1),o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{staticClass:"q-pa-sm",attrs:{square:"",outlined:"",mask:"#### - #### - #### - ####",dense:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_CARD_NUMBER,readonly:""},model:{value:t.editProps.card_number,callback:function(e){t.$set(t.editProps,"card_number",e)},expression:"editProps.card_number"}})],1),t.collaborator&&t.collaborator.isCollaborator?o("div",{staticClass:"col-12 col-sm-6"},[o("q-input",{staticClass:"q-pa-sm",attrs:{square:"",outlined:"",type:"number",dense:"",label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_PAY_BY_HOURS,readonly:""},model:{value:t.editProps.pay_by_hours,callback:function(e){t.$set(t.editProps,"pay_by_hours",e)},expression:"editProps.pay_by_hours"}})],1):t._e(),t.collaborator.isCollaborator?o("div",{staticClass:"row col-12 justify-around"},[o("q-btn",{staticClass:"col-12 col-md-3 q-mt-sm",attrs:{unelevated:"",color:"primary",label:t.translationContent.WGO_FINANCE_COLLABORATOR_GO_TO_GITHUB_BTN,icon:"cached"},on:{click:t.goToGithub}}),o("q-btn",{staticClass:"col-12 col-md-3 q-mt-sm",attrs:{unelevated:"",color:"primary",label:t.translationContent.WGO_FINANCE_COLLABORATOR_VIEW_STATS_BTN,icon:"save"},on:{click:function(){return t.showStats=!0}}})],1):t._e(),o("StatsCollaboratorDialog",{attrs:{collaborator:t.collaborator,showModal:t.showStats,close:function(){return t.showStats=!1},title:t.translationContent.WGO_FINANCE_COLLABORATOR_VIEW_STATS_TITLE}})],1)},vt=[],Lt=o("b06b"),At=function(t,e,o,a){var l,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,a);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(i=(s<3?l(i):s>3?l(e,o,i):l(e,o))||i);return s>3&&i&&Object.defineProperty(e,o,i),i};let Pt=class extends s["Vue"]{constructor(){super(),this.showStats=!1,this.editProps={name:"",login:"",card_number:"",email:"",address:"",pay_by_hours:"",cap:"",place:"",typeTranslation:"",description:""},this.$nextTick((()=>{this.updateCollaborator()}))}goToGithub(){this.collaborator.isCollaborator&&Object(Lt["a"])(`https://github.com/${this.collaborator.login}`)}updateCollaborator(){this.editProps=this.collaborator?{name:`${this.collaborator.name||this.collaborator.login}`,login:`${this.collaborator.login}`,card_number:`${this.collaborator.card_number||""}`,pay_by_hours:`${this.collaborator.pay_by_hours||""}`,email:`${this.collaborator.email||""}`,address:`${this.collaborator.address||""}`,cap:`${this.collaborator.cap||""}`,place:`${this.collaborator.place||""}`,typeTranslation:`${this.collaborator.typeTranslation||""}`,description:`${this.collaborator.bio||""}`}:{name:"",login:"",card_number:"",email:"",address:"",pay_by_hours:"",cap:"",place:"",typeTranslation:"",description:""}}};At([Object(n["b"])(q["b"].getTranslations,{namespace:q["e"]})],Pt.prototype,"translationContent",void 0),At([Object(s["Prop"])()],Pt.prototype,"collaborator",void 0),At([Object(n["b"])(F["a"].USER_LOGGED_GETTER,{namespace:F["a"].USER_NAMESPACE})],Pt.prototype,"loggedUser",void 0),At([Object(n["a"])(w["a"].notify,{namespace:w["c"]})],Pt.prototype,"notify",void 0),At([Object(s["Watch"])("collaborator")],Pt.prototype,"updateCollaborator",null),Pt=At([Object(s["Component"])({components:{StatsCollaboratorDialog:Ct}})],Pt);var Rt=Pt,Et=Rt,Tt=Object($["a"])(Et,gt,vt,!1,null,null,null),Nt=Tt.exports;M()(Tt,"components",{QInput:W["a"],QBtn:G["a"]});var xt=function(t,e,o,a){var l,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,a);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(i=(s<3?l(i):s>3?l(e,o,i):l(e,o))||i);return s>3&&i&&Object.defineProperty(e,o,i),i},Ft=function(t,e,o,a){function l(t){return t instanceof o?t:new o((function(e){e(t)}))}return new(o||(o=Promise))((function(o,s){function i(t){try{n(a.next(t))}catch(e){s(e)}}function r(t){try{n(a["throw"](t))}catch(e){s(e)}}function n(t){t.done?o(t.value):l(t.value).then(i,r)}n((a=a.apply(t,e||[])).next())}))};let wt=class extends s["Vue"]{constructor(){super(),this.pageCollaborators=[],this.innerLoading=!1,this.maxPage=0,this.currentPage=1,this.itemsByPage=10,this.itemsCount=0,this.editCollaboratorBn={click:t=>this.editCollaborator(t),icon:"edit",tooltip:"Edit"},this.itemByPageOptions=[5,10,20,50,100],this.options={showAddBotton:!1,expandedButtons:[this.editCollaboratorBn],labelShowAddBotton:"",textDeleteConfirm:"",disableFilters:!0,onAddItem:()=>null,onDeleteItem:()=>null,onEditItem:()=>null,headerButtons:this.headerButtons},this.$nextTick((()=>this.updatePageCollaborators()))}updatePageCollaborators(){const t=(this.currentPage-1)*this.itemsByPage;this.pageCollaborators=(this.collaborators||[]).slice(t,t+this.itemsByPage),this.itemsCount=(this.collaborators||[]).length,this.maxPage=Math.floor(this.itemsCount/this.itemsByPage)+(this.itemsCount%this.itemsByPage>0?1:0)}updateTranslations(){this.editCollaboratorBn.tooltip=this.translationContent.WGO_FINANCE_COLLABORATOR_EDIT_CONTACT_BTN}mounted(){return Ft(this,void 0,void 0,(function*(){this.innerLoading=!0,yield this.registerTranslations(u["a"]),this.updateTranslations(),this.innerLoading=!1}))}};xt([Object(n["a"])(q["a"].registerTranslations,{namespace:q["e"]})],wt.prototype,"registerTranslations",void 0),xt([Object(n["b"])(q["b"].getTranslations,{namespace:q["e"]})],wt.prototype,"translationContent",void 0),xt([Object(s["Prop"])()],wt.prototype,"loading",void 0),xt([Object(s["Prop"])({default:""})],wt.prototype,"filterStr",void 0),xt([Object(s["Prop"])()],wt.prototype,"collaborators",void 0),xt([Object(s["Prop"])()],wt.prototype,"columns",void 0),xt([Object(s["Prop"])()],wt.prototype,"headerButtons",void 0),xt([Object(s["Prop"])()],wt.prototype,"editCollaborator",void 0),xt([Object(s["Watch"])("collaborators"),Object(s["Watch"])("currentPage"),Object(s["Watch"])("itemsByPage")],wt.prototype,"updatePageCollaborators",null),xt([Object(s["Watch"])("translationContent")],wt.prototype,"updateTranslations",null),wt=xt([Object(s["Component"])({components:{ExpandableList:yt["a"],ViewAccountingCollaborator:Nt}})],wt);var qt=wt,St=qt,jt=o("8572"),Bt=o("3b16"),It=Object($["a"])(St,ft,_t,!1,null,null,null),Dt=It.exports;M()(It,"components",{QSelect:k["a"],QField:jt["a"],QPagination:Bt["a"]});var $t=o("d1ac");function Wt(t,e){return t.filter((t=>!e||(!e.name||-1!==t.name.toLowerCase().indexOf(e.name.toLowerCase()))&&(!e.email||-1!==t.email.toLowerCase().indexOf(e.email.toLowerCase()))&&(!e.type||-1!==t.type.indexOf(e.type))&&(!e.url||-1!==t.url.toLowerCase().indexOf(e.url.toLowerCase()))))}var kt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Dialog",{attrs:{showModal:t.showModal,loading:t.showLoading,title:t.getTitle(),close:function(){return t.onClose()},icon:"filter_alt",styleDialog:"width: 800px; max-width: 80vw"}},[o("template",{slot:"content"},[o("div",{staticClass:"row col-12 q-pa-sm"},[o("InputText",{staticClass:"col-12 col-sm-6 q-pa-sm",attrs:{label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_NAME},model:{value:t.filtersEdit.name,callback:function(e){t.$set(t.filtersEdit,"name",e)},expression:"filtersEdit.name"}}),o("InputText",{staticClass:"col-12 col-sm-6 q-pa-sm",attrs:{label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_EMAIL},model:{value:t.filtersEdit.email,callback:function(e){t.$set(t.filtersEdit,"email",e)},expression:"filtersEdit.email"}}),o("InputSelect",{staticClass:"col-12 col-sm-6 q-pa-sm",attrs:{label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_ROLE,optionsSelect:t.optionsSelect},model:{value:t.selectedRole,callback:function(e){t.selectedRole=e},expression:"selectedRole"}}),o("InputText",{staticClass:"col-12 col-sm-6 q-pa-sm",attrs:{label:t.translationContent.WGO_FINANCE_COLLABORATOR_COLUMN_URL},model:{value:t.filtersEdit.url,callback:function(e){t.$set(t.filtersEdit,"url",e)},expression:"filtersEdit.url"}})],1)]),o("template",{slot:"buttons"},[o("q-btn",{staticClass:"col-12 col-md-3 q-mt-sm",attrs:{unelevated:"",color:"primary",label:t.translationContent.WGO_CLOSE_BTN,icon:"close"},on:{click:t.close}}),o("q-btn",{staticClass:"col-12 col-md-3 q-mt-sm",attrs:{unelevated:"",color:"primary",label:t.translationContent.WGO_CLEAN_BTN,icon:"cached"},on:{click:t.onResetFilter}}),o("q-btn",{staticClass:"col-12 col-md-3 q-mt-sm",attrs:{unelevated:"",color:"primary",label:t.translationContent.WGO_APPLY_BTN,icon:"save"},on:{click:t.onApplyFilter}})],1)],2)},Gt=[],Ut=o("bbeb"),Mt=o("a7b8"),Qt=function(t,e,o,a){var l,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,a);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(i=(s<3?l(i):s>3?l(e,o,i):l(e,o))||i);return s>3&&i&&Object.defineProperty(e,o,i),i};let Vt=class extends s["Vue"]{constructor(){super(),this.showLoading=!1,this.optionsSelect=[m,b,h],this.filtersEdit=this.filters?Object.assign({},this.filters):{},this.selectedRole=this.filtersEdit.type||""}getTitle(){return this.title?this.title:this.translationContent.WGO_FINANCE_COLLABORATOR_FILTER_TITLE||"Filter"}onResetFilter(){this.filtersEdit={}}onApplyFilter(){this.applyFilter&&this.applyFilter(this.filtersEdit),this.close&&this.close()}onFilterChange(){this.filtersEdit=this.filters?Object.assign({},this.filters):{},this.selectedRole=this.filtersEdit.type||""}changeSelectedRole(){this.filtersEdit.type=this.selectedRole?this.selectedRole.value:""}onClose(){this.close&&this.close()}};Qt([Object(s["Prop"])({default:!1})],Vt.prototype,"showModal",void 0),Qt([Object(s["Prop"])()],Vt.prototype,"title",void 0),Qt([Object(s["Prop"])()],Vt.prototype,"filters",void 0),Qt([Object(s["Prop"])({default:()=>{}})],Vt.prototype,"close",void 0),Qt([Object(s["Prop"])({default:()=>{}})],Vt.prototype,"applyFilter",void 0),Qt([Object(n["b"])(q["b"].getTranslations,{namespace:q["e"]})],Vt.prototype,"translationContent",void 0),Qt([Object(s["Watch"])("filters")],Vt.prototype,"onFilterChange",null),Qt([Object(s["Watch"])("selectedRole")],Vt.prototype,"changeSelectedRole",null),Vt=Qt([Object(s["Component"])({components:{Dialog:x["a"],InputText:Ut["a"],InputSelect:Mt["a"]}})],Vt);var Yt=Vt,Ht=Yt,Kt=Object($["a"])(Ht,kt,Gt,!1,null,null,null),Jt=Kt.exports;M()(Kt,"components",{QBtn:G["a"]});var zt=o("1239"),Xt=function(t,e,o,a){var l,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,a);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(i=(s<3?l(i):s>3?l(e,o,i):l(e,o))||i);return s>3&&i&&Object.defineProperty(e,o,i),i},Zt=function(t,e,o,a){function l(t){return t instanceof o?t:new o((function(e){e(t)}))}return new(o||(o=Promise))((function(o,s){function i(t){try{n(a.next(t))}catch(e){s(e)}}function r(t){try{n(a["throw"](t))}catch(e){s(e)}}function n(t){t.done?o(t.value):l(t.value).then(i,r)}n((a=a.apply(t,e||[])).next())}))};let te=class extends s["Vue"]{constructor(){super(),this.loading=!1,this.columns=y,this.collaboratorSelected=null,this.showEditor=!1,this.showStats=!1,this.showFilter=!1,this.filters=this.getFilterStore(),this.setFilterBtn={click:()=>{this.openFilterDialog()},icon:"filter_alt",tooltip:"Set Filter"},this.headerButtons=[this.setFilterBtn],this.filterStr="",this.collaboratorFiltered=[],this.$nextTick((()=>{this.setFilterCollaborators()}))}openFilterDialog(){this.showFilter=!0}openEditor(t){this.collaboratorSelected=t,this.showEditor=!0}showStatsDialog(t){this.collaboratorSelected=t,this.showStats=!0}setFilterCollaborators(){this.collaboratorFiltered=Wt(this.collaborators,this.filters).map((t=>this.updateContent(t))),this.filterStr=this.getFilterStr(this.filters),this.setFilterBtn.tooltip=this.getLabel(u["i"]),E(this.translationContent)}updateContent(t){return t.typeTranslation=t.type.split(",").filter((t=>t in this.translationContent)).map((t=>this.translationContent[t])).join(", "),t}applyFilter(t){this.filters=Object.assign({},t),localStorage.setItem(zt["a"].KEY_COLLABORATORS_FILTER,JSON.stringify(this.filters)),this.setFilterCollaborators(),this.filterStr=this.getFilterStr(this.filters)}getFilterStore(){const t=localStorage.getItem(zt["a"].KEY_COLLABORATORS_FILTER);if(t){const e=JSON.parse(t);return e&&(this.filters=Object.assign({},e)),this.filterStr=this.getFilterStr(e),e}return{}}getFilterStr(t){const e=this.getLabel("WGO_EQUAL_LABEL"),o=this.getLabel("WGO_CONTAIN_LABEL"),a=this.getLabel("WGO_AND_LABEL");if(!t)return"";const l=[];return t.name&&l.push(`${this.getLabel(u["c"])} ${o} <${t.name}>`),t.email&&l.push(`${this.getLabel(u["b"])} ${o} <${t.name}>`),t.type&&l.push(`${this.getLabel(u["d"])} ${e} <${this.getLabel(t.type)}>`),t.url&&l.push(`${this.getLabel(u["e"])} ${o} <${t.url}>`),l.join(` ${a} `)}getLabel(t){return this.translationContent&&t in this.translationContent?this.translationContent[t]:t}mounted(){return Zt(this,void 0,void 0,(function*(){0===this.collaborators.length&&(this.loading=!0,yield this.loadData(),this.applyFilter(this.getFilterStore()),this.loading=!1),yield this.registerTranslations(u["a"])}))}};Xt([Object(n["a"])(q["a"].registerTranslations,{namespace:q["e"]})],te.prototype,"registerTranslations",void 0),Xt([Object(n["b"])(q["b"].getTranslations,{namespace:q["e"]})],te.prototype,"translationContent",void 0),Xt([Object(n["a"])(c["b"].loadAllCollaborators,{namespace:c["d"]})],te.prototype,"loadData",void 0),Xt([Object(n["b"])(c["c"].getCollaborators,{namespace:c["d"]})],te.prototype,"collaborators",void 0),Xt([Object(n["b"])(F["a"].USER_LOGGED_GETTER,{namespace:F["a"].USER_NAMESPACE})],te.prototype,"userLogged",void 0),Xt([Object(s["Watch"])("collaborators"),Object(s["Watch"])("translationContent")],te.prototype,"setFilterCollaborators",null),te=Xt([Object(s["Component"])({components:{EditAccountingCollaboratorDialog:V,StatsCollaboratorDialog:Ct,CollaboratorList:Dt,ExpandableListFilterLabel:$t["a"],CollaboratorsFilterDialog:Jt}})],te);var ee=te,oe=ee,ae=(o("ae41"),o("db86")),le=o("4e73"),se=o("1c1c"),ie=o("66e5"),re=o("4074"),ne=o("cb32"),ce=Object($["a"])(oe,i,r,!1,null,"dd2f3f52",null),pe=ce.exports;M()(ce,"components",{QBtn:G["a"],QTable:ot["a"],QTd:ae["a"],QMenu:le["a"],QList:se["a"],QItem:ie["a"],QItemSection:re["a"],QAvatar:ne["a"],QToolbar:at["a"]}),M()(ce,"directives",{ClosePopup:ct["a"]});var de=function(t,e,o,a){var l,s=arguments.length,i=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,o,a);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(i=(s<3?l(i):s>3?l(e,o,i):l(e,o))||i);return s>3&&i&&Object.defineProperty(e,o,i),i};let ue=class extends s["Vue"]{};ue=de([Object(s["Component"])({components:{Collaborators:pe}})],ue);var be=ue,he=be,me=Object($["a"])(he,a,l,!1,null,null,null);e["default"]=me.exports},"9ad9":function(t,e,o){},"9bb1":function(t,e,o){},ae41:function(t,e,o){"use strict";o("9bb1")},d733:function(t,e,o){"use strict";o("9ad9")}}]);