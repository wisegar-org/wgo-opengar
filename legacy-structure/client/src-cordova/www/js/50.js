(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[50],{4830:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"row justify-evenly"},[a("Translations")],1)},s=[],i=a("60a3"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"}},[t.innerLoading?t._e():a("q-card",{staticClass:"my-card bg-grey-1",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"row items-center justify-between q-table"},[a("div",{staticClass:"col-12 col-sm-auto no-wrap"},[a("div",{staticClass:"q-table__title ellipsis"},[t._v("\n            "+t._s(t.translationContent.WGO_TRANSLATIONS_TITLE)+"\n          ")])]),a("div",{staticClass:"flex q-pb-sm justify-end col-12 col-sm-auto row"},[a("div",{staticClass:"col-12 col-sm-auto q-mb-sm"},[a("LanguageSimpleSelect",{attrs:{fullWidth:!0,language:t.language,langSelected:t.changeLanguage}})],1),a("q-btn",{staticClass:"col-12 col-sm-auto q-ml-sm q-mb-sm",attrs:{unelevated:"",color:"primary",icon:"download",label:t.translationContent.WGO_TRANSLATIONS_EXPORT_BTN,"no-caps":""},on:{click:function(){return t.clickExportTranslations()}}}),a("q-file",{ref:t.id_input,staticStyle:{display:"none"},attrs:{accept:".csv",multiple:!1},on:{input:function(e){t.clickImportTranslations(e)}}}),a("q-btn",{staticClass:"col-12 col-sm-auto q-ml-sm q-mb-sm",attrs:{unelevated:"",color:"primary",icon:"upload",label:t.translationContent.WGO_TRANSLATIONS_IMPORT_BTN,"no-caps":"",for:t.id_input},on:{click:t.openLoadFile}})],1)]),a("div",[a("q-input",{attrs:{flat:"",dense:"","lazy-rules":"ondemand",standout:"bg-primary text-white",autofocus:!0,label:t.translationContent.WGO_TRANSLATIONS_SEARCH_BTN},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.loadFilter.apply(null,arguments))}},scopedSlots:t._u([{key:"append",fn:function(){return[""!==t.search?a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:t.cleanFilter}}):t._e(),a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"search"},on:{click:t.loadFilter}})]},proxy:!0}],null,!1,2352315868),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("q-card-section",{staticClass:"q-pa-none"},[a("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"}},[t.translations?a("q-list",[t._l(t.translations,(function(e,n){return[a("SimpleExpanded",{key:e.key+n,attrs:{icon:"language",label:e.key,group:"translationsExpanded"}},[a("template",{slot:"content"},[a("TranslationEditor",{attrs:{translation:e,language:t.language}})],1)],2)]}))],2):t._e(),a("div",{staticClass:"q-pa-lg flex flex-center"},[t.translations.length?a("q-pagination",{attrs:{max:t.maxPage,input:"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)])],1),a("Loader",{attrs:{loading:t.innerLoading||t.loading}})],1)},l=[],r=a("4bb5"),c=a("7641"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("LanguageSimpleSelect",{attrs:{language:t.language,fullWidth:!0,langSelected:t.changeLanguage}})],1),a("div",{staticClass:"col-12"},[a("QEditorToolbar",{attrs:{toEdit:this,propToEdir:"value",label:t.translationContent.WGO_TRANSLATIONS_VALUE_LABEL}})],1)]),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{staticClass:"btn-fixed-width btn_width",attrs:{unelevated:"",disabled:!!t.selectedLang&&!!t.translations&&t.value===t.translations[t.selectedLang.code],icon:"save",color:"primary",align:"around",label:t.translationContent.WGO_SAVE_BTN},on:{click:function(){return t.saveTranslation()}}})],1)],1)},u=[],p=a("ea1a"),g=a("c5b9"),h=a("a4f2"),f=function(t,e,a,n){var s,i=arguments.length,o=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,a,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(i<3?s(o):i>3?s(e,a,o):s(e,a))||o);return i>3&&o&&Object.defineProperty(e,a,o),o},v=function(t,e,a,n){function s(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function o(t){try{r(n.next(t))}catch(e){i(e)}}function l(t){try{r(n["throw"](t))}catch(e){i(e)}}function r(t){t.done?a(t.value):s(t.value).then(o,l)}r((n=n.apply(t,e||[])).next())}))};let b=class extends i["Vue"]{constructor(){super(...arguments),this.selectedLang=this.language,this.translations=this.language&&this.translation?{[this.language.code]:this.translation.value}:{},this.value=this.translation.value}setValue(){this.translation&&this.selectedLang&&this.language&&(this.translations[this.selectedLang.code]=this.translation.value,this.value=this.translations[this.selectedLang.code],this.selectedLang=this.language)}changeLanguage(t){return v(this,void 0,void 0,(function*(){this.selectedLang=t,t.code in this.translations||(this.translations[t.code]=yield this.getTranslation({languageId:t.id,key:this.translation.key})),this.value=this.translations[t.code]}))}saveTranslation(){return v(this,void 0,void 0,(function*(){(yield this.setTranslation({languageId:this.selectedLang.id,key:this.translation.key,value:this.value}))&&(this.translations[this.selectedLang.code]=this.value,this.notify({message:this.translationContent.WGO_TRANSLATIONS_SUCCESS_EDIT_ACTION,type:"positive"}))}))}};f([Object(r["a"])(c["a"].getTranslation,{namespace:c["e"]})],b.prototype,"getTranslation",void 0),f([Object(r["a"])(c["a"].setTranslation,{namespace:c["e"]})],b.prototype,"setTranslation",void 0),f([Object(r["a"])(p["a"].notify,{namespace:p["c"]})],b.prototype,"notify",void 0),f([Object(r["b"])(c["b"].getTranslations,{namespace:c["e"]})],b.prototype,"translationContent",void 0),f([Object(i["Prop"])()],b.prototype,"translation",void 0),f([Object(i["Prop"])()],b.prototype,"language",void 0),f([Object(i["Watch"])("translation"),Object(i["Watch"])("translation.value"),Object(i["Watch"])("language")],b.prototype,"setValue",null),b=f([Object(i["Component"])({components:{LanguageSimpleSelect:g["a"],QEditorToolbar:h["a"]}})],b);var y=b,m=y,T=a("2877"),O=a("4b7e"),_=a("9c40"),S=a("eebe"),C=a.n(S),L=Object(T["a"])(m,d,u,!1,null,null,null),j=L.exports;C()(L,"components",{QCardActions:O["a"],QBtn:_["a"]});var A=a("e07f");const w={WGO_TRANSLATIONS_TITLE:!0,WGO_TRANSLATIONS_ADMIN_TITLE_BC:!0,WGO_TRANSLATIONS_SEARCH_BTN:!0,WGO_TRANSLATIONS_EXPORT_BTN:!0,WGO_TRANSLATIONS_IMPORT_BTN:!0,WGO_TRANSLATIONS_VALUE_LABEL:!0,WGO_TRANSLATIONS_SUCCESS_EDIT_ACTION:!0};var N=a("2727"),x=function(t,e,a,n){var s,i=arguments.length,o=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,a,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(i<3?s(o):i>3?s(e,a,o):s(e,a))||o);return i>3&&o&&Object.defineProperty(e,a,o),o},k=function(t,e,a,n){function s(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function o(t){try{r(n.next(t))}catch(e){i(e)}}function l(t){try{r(n["throw"](t))}catch(e){i(e)}}function r(t){t.done?a(t.value):s(t.value).then(o,l)}r((n=n.apply(t,e||[])).next())}))};let E=class extends i["Vue"]{constructor(){super(...arguments),this.translations=[],this.translationsCount=0,this.translationXPage=5,this.language=null,this.maxPage=0,this.currentPage=1,this.search="",this.loading=!1,this.innerLoading=!0,this.id_input="upload-button-"+Math.random().toString(36).substring(2,10)}loadFilter(){var t;return k(this,void 0,void 0,(function*(){this.loading=!0;const e=yield this.loadTranslations({languageId:(null===(t=this.language)||void 0===t?void 0:t.id)||0,search:this.search,skip:this.translationXPage*(Math.floor(this.currentPage-1)+(this.currentPage%1>0?1:0)),take:this.translationXPage});this.translationsCount=e.translationsCount,this.maxPage=Math.floor(this.translationsCount/this.translationXPage)+(this.translationsCount%this.translationXPage>0?1:0),this.translations=e.translations,this.loading=!1}))}changeLanguage(t){this.language=t}cleanFilter(){return k(this,void 0,void 0,(function*(){this.search="",yield this.loadFilter()}))}clickImportTranslations(t){return k(this,void 0,void 0,(function*(){this.loading=!0;const e={languageId:this.languageSelected.id,file:t},a=yield this.importTranslations(e);this.loading=!1,a&&(yield this.loadFilter(),this.notify({message:"Success import translations",type:"positive"}))}))}clickExportTranslations(){return k(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.exportTranslations();if(this.loading=!1,t.isSuccess){const e=`data:text/plain;base64,${t.data||""}`;fetch(e).then((t=>t.blob())).then((t=>{const e=window.document.createElement("a");e.href=window.URL.createObjectURL(t),e.download="translations.csv",document.body.appendChild(e),e.click(),document.body.removeChild(e)}))}}))}openLoadFile(){this.$refs[this.id_input].pickFiles()}mounted(){return k(this,void 0,void 0,(function*(){yield this.registerTranslations(w),yield this.loadData(!1),this.language=this.languageSelected?this.languageSelected:null,yield this.loadFilter(),this.innerLoading=!1}))}};x([Object(r["a"])(c["a"].loadAllLanguage,{namespace:c["e"]})],E.prototype,"loadData",void 0),x([Object(r["a"])(c["a"].loadTranslations,{namespace:c["e"]})],E.prototype,"loadTranslations",void 0),x([Object(r["a"])(c["a"].exportTranslations,{namespace:c["e"]})],E.prototype,"exportTranslations",void 0),x([Object(r["a"])(c["a"].importTranslations,{namespace:c["e"]})],E.prototype,"importTranslations",void 0),x([Object(r["a"])(c["a"].registerTranslations,{namespace:c["e"]})],E.prototype,"registerTranslations",void 0),x([Object(r["b"])(c["b"].getTranslations,{namespace:c["e"]})],E.prototype,"translationContent",void 0),x([Object(r["b"])(c["b"].getEnabledLanguages,{namespace:c["e"]})],E.prototype,"languages",void 0),x([Object(r["b"])(c["b"].getLanguage,{namespace:c["e"]})],E.prototype,"languageSelected",void 0),x([Object(r["b"])(c["b"].getKeysTranslations,{namespace:c["e"]})],E.prototype,"keysTranslations",void 0),x([Object(r["a"])(p["a"].notify,{namespace:A["a"]})],E.prototype,"notify",void 0),x([Object(i["Watch"])("language"),Object(i["Watch"])("currentPage"),Object(i["Watch"])("keysTranslations.length")],E.prototype,"loadFilter",null),E=x([Object(i["Component"])({components:{TranslationEditor:j,LanguageSimpleSelect:g["a"],SimpleExpanded:N["a"]}})],E);var I=E,P=I,R=a("f09f"),q=a("a370"),W=a("eaac"),G=a("7d53"),Q=a("27f9"),F=a("0016"),B=a("1c1c"),D=a("3b16"),V=Object(T["a"])(P,o,l,!1,null,null,null),X=V.exports;C()(V,"components",{QCard:R["a"],QCardSection:q["a"],QTable:W["a"],QBtn:_["a"],QFile:G["a"],QInput:Q["a"],QIcon:F["a"],QList:B["a"],QPagination:D["a"]});var M=function(t,e,a,n){var s,i=arguments.length,o=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,a):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,a,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(i<3?s(o):i>3?s(e,a,o):s(e,a))||o);return i>3&&o&&Object.defineProperty(e,a,o),o};let U=class extends i["Vue"]{};U=M([Object(i["Component"])({components:{Translations:X}})],U);var $=U,H=$,J=a("9989"),z=Object(T["a"])(H,n,s,!1,null,null,null);e["default"]=z.exports;C()(z,"components",{QPage:J["a"]})}}]);