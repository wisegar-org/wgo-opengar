(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[49],{c0b6:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"row justify-evenly"},[a("div",{staticClass:"col-12 q-pa-md"},[a("SeoComponent")],1)])},n=[],i=a("60a3"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[t.innerLoading?t._e():a("q-card",{staticClass:"bg-grey-1",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"row items-center justify-between q-table"},[a("div",{staticClass:"col-12 col-sm-auto no-wrap"},[a("div",{staticClass:"q-table__title ellipsis"},[t._v("\n            "+t._s(t.translationContent.WGO_SEO_TITLE)+"\n          ")])]),a("div",{staticClass:"flex q-pb-sm justify-end col-12 col-sm-auto row"},[a("q-btn",{staticClass:"col-12 col-sm-auto q-ml-sm q-mb-sm",attrs:{unelevated:"",color:"primary",icon:"save",label:t.translationContent.WGO_SAVE_BTN,"no-caps":""},on:{click:function(){return t.clickSaveSeoData()}}})],1)])]),a("q-card-section",[a("div",{staticClass:"flex justify-center q-pb-md"},[a("UploadFavIconDiv",{attrs:{img:t.imgFavIcon,onSavedImg:t.setFaviconImage,showLoading:t.showLoading}})],1),t.metaProps.length>0?a("q-separator",{staticClass:"q-mt-md",attrs:{inset:""}}):t._e()],1),a("q-card-section",[a("div",[a("q-input",{attrs:{flat:"",dense:"",clearable:"","lazy-rules":"ondemand",standout:"bg-primary text-white",autofocus:!0,label:t.translationContent.WGO_SEO_SEARCH_BTN},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),t.metaProps.length>0?a("q-card-section",[a("div",{staticClass:"q-pa-none",staticStyle:{width:"100%"}},[t.metaProps.length?a("q-list",[t._l(t.metaProps,(function(e,o){return[t.search&&-1===e.indexOf(t.search)?t._e():a("SeoExpandedEditor",{key:e+o,attrs:{meta:t.metaData[e],prop:e,onChange:function(a){return t.metaData[e].content=a},icon:"code",groupName:"seoColumn"}})]}))],2):t._e(),a("div",{staticClass:"q-pa-lg flex flex-center"},[t.metaProps.length?a("q-pagination",{attrs:{max:t.maxPage,input:"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)]):t._e(),t.metaProps.length>0?a("q-separator",{attrs:{inset:""}}):t._e(),a("q-card-section",[a("q-input",{attrs:{outlined:"",standout:"bg-primary text-white",label:t.translationContent.WGO_SEO_META_INDEX_PATH_LABEL},model:{value:t.path,callback:function(e){t.path=e},expression:"path"}})],1)],1),a("Loader",{attrs:{loading:t.innerLoading||t.loading}})],1)},r=[],c=a("4bb5"),l=a("7641"),p=a("26b1");const d={WGO_SEO_TITLE:!0,WGO_SEO_CONTENT_META_LABEL:!0,WGO_SEO_RELOAD_META_BTN:!0,WGO_SEO_SEARCH_BTN:!0,WGO_SEO_META_CARD_TITLE_LABEL:!0,WGO_SEO_META_INDEX_PATH_LABEL:!0,WGO_SEO_META_EDITOR_PROP_LABEL:!0,WGO_SEO_CREATE_META_LABEL:!0,WGO_SEO_MODIFY_META_LABEL:!0,WGO_SEO_SUCCESS_EDIT_ACTION:!0,WGO_SEO_FAIL_EDIT_ACTION:!0,WGO_SEO_FAIL_ADD_META_ACTION:!0};var u=a("ea1a"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("SimpleExpanded",{attrs:{label:t.translationContent.WGO_SEO_META_EDITOR_PROP_LABEL+": "+t.prop,icon:t.icon}},[a("template",{slot:"content"},[a("q-input",{staticClass:"q-ma-sm",attrs:{square:"",outlined:"","lazy-rules":"ondemand",autofocus:!0,label:t.translationContent.WGO_SEO_CONTENT_META_LABEL,standout:"bg-primary text-white",dense:"",counter:"",type:t.getType()},model:{value:t.metaValue,callback:function(e){t.metaValue=e},expression:"metaValue"}})],1)],2)},m=[],f=a("2727"),g=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};let _=class extends i["Vue"]{constructor(){super(...arguments),this.metaValue=this.meta.content}getType(){return this.meta.type?this.meta.type:"text"}changeContent(){this.onChange(this.metaValue)}};g([Object(i["Prop"])()],_.prototype,"groupName",void 0),g([Object(i["Prop"])()],_.prototype,"icon",void 0),g([Object(i["Prop"])()],_.prototype,"meta",void 0),g([Object(i["Prop"])()],_.prototype,"prop",void 0),g([Object(i["Prop"])()],_.prototype,"onChange",void 0),g([Object(c["b"])(l["b"].getTranslations,{namespace:l["e"]})],_.prototype,"translationContent",void 0),g([Object(i["Watch"])("metaValue")],_.prototype,"changeContent",null),_=g([Object(i["Component"])({components:{SimpleExpanded:f["a"]}})],_);var O=_,v=O,b=a("2877"),y=a("27f9"),E=a("3b73"),C=a("eb85"),P=a("f09f"),S=a("a370"),j=a("eebe"),D=a.n(j),T=Object(b["a"])(v,h,m,!1,null,null,null),L=T.exports;D()(T,"components",{QInput:y["a"],QExpansionItem:E["a"],QSeparator:C["a"],QCard:P["a"],QCardSection:S["a"]});var w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-file",{ref:t.id_input,staticStyle:{display:"none"},attrs:{accept:"image/*"},on:{input:function(e){t.onChangeUploadImage(e)}}}),a("q-btn",{attrs:{unelevated:"",flat:"",dense:"",for:t.id_input},on:{click:t.openLoadFile}},[t.imageURL?a("div",[a("q-img",{staticClass:"rounded-borders",attrs:{src:t.imageURL,ratio:t.ratio,width:t.width,fit:"contain"}})],1):a("q-icon",{attrs:{size:t.sizeIcon,name:"photo",color:"primary"}})],1),a("Loader",{attrs:{loading:t.showLoader}})],1)},x=[],I=a("a156"),A=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s},q=function(t,e,a,o){function n(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function r(t){try{c(o["throw"](t))}catch(e){i(e)}}function c(t){t.done?a(t.value):n(t.value).then(s,r)}c((o=o.apply(t,e||[])).next())}))};let M=class extends i["Vue"]{constructor(){super(...arguments),this.imageURL=this.img&&this.img.url?`${this.img.url}?${(new Date).getTime()}`:"",this.showLoader=!1,this.id_input="upload-button-"+Math.random().toString(36).substring(2,10)}openLoadFile(){this.$refs[this.id_input].pickFiles()}onChangeUploadImage(t){return q(this,void 0,void 0,(function*(){this.showLoading(!0);const e=yield this.uploadFavicon({file:t,isPublic:!0});e&&e.id&&(this.imageURL=e.url?`${e.url}?${(new Date).getTime()}`:"",this.onSavedImg(e)),this.showLoading(!1)}))}};A([Object(i["Prop"])({required:!0})],M.prototype,"onSavedImg",void 0),A([Object(i["Prop"])()],M.prototype,"img",void 0),A([Object(i["Prop"])()],M.prototype,"icon",void 0),A([Object(i["Prop"])({default:1})],M.prototype,"ratio",void 0),A([Object(i["Prop"])({default:"min(max(10vw, 150px), 150px)"})],M.prototype,"width",void 0),A([Object(i["Prop"])({default:"150px"})],M.prototype,"sizeIcon",void 0),A([Object(i["Prop"])()],M.prototype,"showLoading",void 0),A([Object(c["a"])(I["a"].uploadFavicon,{namespace:I["c"]})],M.prototype,"uploadFavicon",void 0),M=A([Object(i["Component"])({})],M);var R=M,W=R,G=a("7d53"),F=a("9c40"),Q=a("068f3"),k=a("0016"),N=Object(b["a"])(W,w,x,!1,null,null,null),B=N.exports;D()(N,"components",{QFile:G["a"],QBtn:F["a"],QImg:Q["a"],QIcon:k["a"]});var V=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s},U=function(t,e,a,o){function n(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function r(t){try{c(o["throw"](t))}catch(e){i(e)}}function c(t){t.done?a(t.value):n(t.value).then(s,r)}c((o=o.apply(t,e||[])).next())}))};let $=class extends i["Vue"]{constructor(){super(...arguments),this.showEditMedaData=!1,this.loading=!1,this.innerLoading=!0,this.metaData={},this.metaProps=[],this.path="",this.search="",this.maxPage=0,this.currentPage=1,this.metaCount=0,this.seoMetaXPage=5,this.imgFavIcon=null}clickEditMetaData(){this.showEditMedaData=!0}editSearch(){this.currentPage=1;const t=Object.keys(this.metaData).filter((t=>!this.search||-1!==t.indexOf(this.search)));this.metaProps=t.slice(0,this.seoMetaXPage),this.metaCount=t.length,this.maxPage=Math.floor(this.metaCount/this.seoMetaXPage)+(this.metaCount%this.seoMetaXPage>0?1:0)}changePage(){const t=Object.keys(this.metaData).filter((t=>!this.search||-1!==t.indexOf(this.search))),e=(this.currentPage-1)*this.seoMetaXPage;this.metaProps=t.slice(e,e+this.seoMetaXPage)}clickSaveSeoData(){return U(this,void 0,void 0,(function*(){this.loading=!0;const t={module:this.seoData.module,path:this.path,meta:Object.values(this.metaData)};(yield this.setSeoData(t))?(this.reloadPage(),this.notify({message:this.translationContent.WGO_SEO_SUCCESS_EDIT_ACTION,type:"positive"})):this.notify({message:this.translationContent.WGO_SEO_FAIL_EDIT_ACTION,type:"negative"}),this.loading=!1}))}reloadMetaData(){this.metaData={},this.seoData.meta.forEach((t=>{this.metaData[t.name||t.property]={name:t.name,property:t.property,content:t.content,type:t.type}})),this.path=this.seoData.path,this.imgFavIcon=this.seoData.favicon?this.seoData.favicon:null,this.editSearch()}reloadPage(){location.reload()}setFaviconImage(t){this.imgFavIcon=t}showLoading(t){this.loading=t}created(){return U(this,void 0,void 0,(function*(){yield this.registerTranslations(d),yield this.loadSeoData(),this.reloadMetaData(),this.innerLoading=!1}))}};V([Object(c["a"])(p["a"].loadSeoData,{namespace:p["e"]})],$.prototype,"loadSeoData",void 0),V([Object(c["a"])(p["a"].setSeoData,{namespace:p["e"]})],$.prototype,"setSeoData",void 0),V([Object(c["b"])(p["b"].getSeoData,{namespace:p["e"]})],$.prototype,"seoData",void 0),V([Object(c["a"])(l["a"].registerTranslations,{namespace:l["e"]})],$.prototype,"registerTranslations",void 0),V([Object(c["b"])(l["b"].getTranslations,{namespace:l["e"]})],$.prototype,"translationContent",void 0),V([Object(c["a"])(u["a"].notify,{namespace:u["c"]})],$.prototype,"notify",void 0),V([Object(i["Watch"])("search")],$.prototype,"editSearch",null),V([Object(i["Watch"])("currentPage")],$.prototype,"changePage",null),V([Object(i["Watch"])("seoData")],$.prototype,"reloadMetaData",null),$=V([Object(i["Component"])({components:{SeoExpandedEditor:L,UploadFavIconDiv:B}})],$);var X=$,z=X,H=a("eaac"),J=a("1c1c"),Y=a("3b16"),K=Object(b["a"])(z,s,r,!1,null,null,null),Z=K.exports;D()(K,"components",{QCard:P["a"],QCardSection:S["a"],QTable:H["a"],QBtn:F["a"],QSeparator:C["a"],QInput:y["a"],QList:J["a"],QPagination:Y["a"]});var tt=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};let et=class extends i["Vue"]{};et=tt([Object(i["Component"])({components:{SeoComponent:Z}})],et);var at=et,ot=at,nt=a("9989"),it=Object(b["a"])(ot,o,n,!1,null,null,null);e["default"]=it.exports;D()(it,"components",{QPage:nt["a"]})}}]);