(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[44],{8431:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("q-page",{staticClass:"row justify-evenly"},[e("div",{staticClass:"col-12 q-pa-md"},[e("IndexContent")],1)])},o=[],i=e("60a3"),s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"100%"}},[t.innerLoading?t._e():e("q-card",{staticClass:"bg-grey-1",attrs:{flat:"",bordered:""}},[e("q-card-section",[e("div",{staticClass:"row items-center justify-between q-table"},[e("div",{staticClass:"col-12 col-sm-auto no-wrap"},[e("div",{staticClass:"q-table__title ellipsis"},[t._v("\n            "+t._s(t.translationContent.FINANCE_INDEX_CONTENT_TITLE)+"\n          ")])]),e("div",{staticClass:"flex q-pb-sm justify-end col-12 col-sm-auto row"},[e("q-btn",{staticClass:"col-12 col-sm-auto q-ml-sm q-mb-sm",attrs:{unelevated:"",color:"primary",icon:"save",label:t.translationContent.WGO_SAVE_BTN,"no-caps":""},on:{click:function(){return t.saveData()}}})],1)])]),e("q-card-section",[e("TranslationComponent",{attrs:{translation:t.transPageTitle,onChange:function(n,e){return t.onChangeIndexContent(t.traslationPageTitleValue,n,e)}}}),e("div",{staticClass:"flex justify-center"},[e("UploadImageDiv",{attrs:{img:t.imgIndex,onSavedImg:t.onSavedImg,ratio:16/9,showLoading:t.showLoading}})],1),e("TranslationComponent",{attrs:{translation:t.transContent,onChange:function(n,e){return t.onChangeIndexContent(t.traslationContentValue,n,e)}}}),e("TranslationComponent",{attrs:{translation:t.transPageFooter,onChange:function(n,e){return t.onChangeIndexContent(t.traslationPageFooterValue,n,e)}}})],1)],1),e("q-inner-loading",{attrs:{showing:t.innerLoading||t.loading}},[e("q-spinner",{attrs:{size:"50px",color:"primary"}})],1)],1)},r=[],l=e("7641"),c=e("4bb5"),d=e("78a7"),g=e("7fa3");const u="WGO_FINANCE_INDEX_TITLE",C="WGO_FINANCE_INDEX_CONTENT_TEXT",h="WGO_FINANCE_INDEX_FOOTER_LABEL",p={FINANCE_INDEX_CONTENT_TITLE:!0,FINANCE_INDEX_CONTENT_TITLE_BC:!0,[u]:!0,[C]:!1,[h]:!0,FINANCE_INDEX_CONTENT_SUCCESS_EDIT:!0,FINANCE_INDEX_CONTENT_FAIL_EDIT:!0};var I=e("127a"),T=e("ea1a"),_=function(t,n,e,a){var o,i=arguments.length,s=i<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,n,e,a);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i<3?o(s):i>3?o(n,e,s):o(n,e))||s);return i>3&&s&&Object.defineProperty(n,e,s),s},N=function(t,n,e,a){function o(t){return t instanceof e?t:new e((function(n){n(t)}))}return new(e||(e=Promise))((function(e,i){function s(t){try{l(a.next(t))}catch(n){i(n)}}function r(t){try{l(a["throw"](t))}catch(n){i(n)}}function l(t){t.done?e(t.value):o(t.value).then(s,r)}l((a=a.apply(t,n||[])).next())}))};let f=class extends i["Vue"]{constructor(){super(...arguments),this.transPageTitle={key:u,id:u},this.transContent={key:C,id:C},this.transPageFooter={key:h,id:h},this.traslationContentValue={},this.traslationPageTitleValue={},this.traslationPageFooterValue={},this.innerLoading=!0,this.loading=!1,this.imgIndex=null}onChangeIndexContent(t,n,e){t[n]=e}onSavedImg(t){this.imgIndex=t}getTranslationItem(t,n){return Object.keys(t).map((e=>{const a=parseInt(e);return{languageId:a,key:n,value:t[a]}}))}saveData(){return N(this,void 0,void 0,(function*(){this.loading=!0;let t=[];t=t.concat(this.getTranslationItem(this.traslationPageTitleValue,u),this.getTranslationItem(this.traslationContentValue,C),this.getTranslationItem(this.traslationPageFooterValue,h));const n={imageId:this.imgIndex?this.imgIndex.id:0,translations:t};if(yield this.setFinanceIndexContent(n)){const t={};this.language.id in this.traslationPageTitleValue&&(t[u]=this.traslationPageTitleValue[this.language.id]),this.language.id in this.traslationContentValue&&(t[C]=this.traslationContentValue[this.language.id]),this.language.id in this.traslationPageFooterValue&&(t[h]=this.traslationPageFooterValue[this.language.id]),this.addTranslations(t),this.notify({message:this.translationContent.FINANCE_INDEX_CONTENT_SUCCESS_EDIT,type:"positive"})}else this.notify({message:this.translationContent.FINANCE_INDEX_CONTENT_FAIL_EDIT,type:"negative"});this.loading=!1}))}setData(){this.imgIndex=this.indexContent.image?this.indexContent.image:null}showLoading(t){this.loading=t}created(){return N(this,void 0,void 0,(function*(){yield this.registerTranslations(p),this.transPageTitle.value=this.translationContent.WGO_FINANCE_INDEX_TITLE,this.transContent.value=this.translationContent.WGO_FINANCE_INDEX_CONTENT_TEXT,this.transPageFooter.value=this.translationContent.WGO_FINANCE_INDEX_FOOTER_LABEL,yield this.loadFinanceIndexContent(),this.innerLoading=!1}))}};_([Object(c["a"])(I["b"].loadIndexContent,{namespace:I["d"]})],f.prototype,"loadFinanceIndexContent",void 0),_([Object(c["b"])(I["c"].getIndexContent,{namespace:I["d"]})],f.prototype,"indexContent",void 0),_([Object(c["a"])(I["b"].setIndexContent,{namespace:I["d"]})],f.prototype,"setFinanceIndexContent",void 0),_([Object(c["a"])(l["a"].registerTranslations,{namespace:l["e"]})],f.prototype,"registerTranslations",void 0),_([Object(c["b"])(l["b"].getTranslations,{namespace:l["e"]})],f.prototype,"translationContent",void 0),_([Object(c["b"])(l["b"].getLanguage,{namespace:l["e"]})],f.prototype,"language",void 0),_([Object(c["c"])(l["d"].addTranslations,{namespace:l["e"]})],f.prototype,"addTranslations",void 0),_([Object(c["a"])(T["a"].notify,{namespace:T["c"]})],f.prototype,"notify",void 0),_([Object(i["Watch"])("indexContent")],f.prototype,"setData",null),f=_([Object(i["Component"])({components:{UploadImageDiv:d["a"],TranslationComponent:g["a"]}})],f);var m=f,E=m,v=e("2877"),y=e("f09f"),b=e("a370"),O=e("eaac"),x=e("9c40"),F=e("74f7"),D=e("0d59"),j=e("eebe"),P=e.n(j),w=Object(v["a"])(E,s,r,!1,null,null,null),L=w.exports;P()(w,"components",{QCard:y["a"],QCardSection:b["a"],QTable:O["a"],QBtn:x["a"],QInnerLoading:F["a"],QSpinner:D["a"]});var A=function(t,n,e,a){var o,i=arguments.length,s=i<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,n,e,a);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i<3?o(s):i>3?o(n,e,s):o(n,e))||s);return i>3&&s&&Object.defineProperty(n,e,s),s};let V=class extends i["Vue"]{};V=A([Object(i["Component"])({components:{IndexContent:L}})],V);var X=V,q=X,S=e("9989"),k=Object(v["a"])(q,a,o,!1,null,null,null);n["default"]=k.exports;P()(k,"components",{QPage:S["a"]})}}]);